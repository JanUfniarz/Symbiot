Vote count for the thread: 3

<div class="s-prose js-post-body" itemprop="text">
<p>I am trying to access an element in </p>
<pre><code>&lt;script type="text/javascript"&gt;ReportPopper("http://asd.asd.asd/ReportOutput/asd-asd-41cc-asd-asd.xls");&lt;script&gt;
</code></pre>
<p>using <code>beautifulsoup</code>, unfortunately I'm not sure on how to access the ReportPopper part and assign it to a variable using <code>Python</code></p>
<p>Sorry if this is already answered.
I've tried adding ReportPopper in the find('ReportPopper') and gives me a none element.</p>
<pre><code>import requests
import io
import os
from bs4 import BeautifulSoup


participation = requests.post(url=report_post_url,data=request_post_report_form,headers=report_post_headers,stream=True)
print(participation)


soup = BeautifulSoup(participation.text, 'html.parser')

for n in soup.find_all('script'):
    javascript = n['ReportPopper']
    print(javascript)
</code></pre>
<p>I want to get my end result as:</p>
<p><code>javascript = "http://asd.asd.asd/ReportOutput/asd-asd-41cc-asd-asd.xls"</code></p>
<p>as my output:</p>
<pre><code>Traceback (most recent call last):
  File "c:\Users\John asd\Documents\GitHub\asd.net\testing.py", line 184, in &lt;module&gt;
    javascript = n['ReportPopper']
  File "C:\Users\John asd\asd\Local\Programs\Python\Python37\lib\site-packages\bs4\element.py", line 1016, in __getitem__
    return self.attrs[key]
KeyError: 'ReportPopper'
</code></pre>
</div>

Vote count for the answer: 1

<div class="s-prose js-post-body" itemprop="text">
<p><a href="https://docs.python.org/3.3/library/re.html?highlight=re.sub#re.compile" rel="nofollow noreferrer">re.compile()</a> returns a <a href="https://docs.python.org/3.3/library/re.html?highlight=re.sub#regular-expression-objects" rel="nofollow noreferrer">regular expression object</a>, which means h is a regex object.</p>
<p>The regex object has its own <a href="https://docs.python.org/3.3/library/re.html?highlight=re.sub#re.regex.match" rel="nofollow noreferrer">match</a> method with the optional pos and endpos parameters:</p>
<p><a href="https://docs.python.org/3.3/library/re.html?highlight=re.sub#re.regex.match" rel="nofollow noreferrer">regex.match(string[, pos[, endpos]])</a></p>
<pre><code>from bs4 import BeautifulSoup
import  re

html = """&lt;script&gt;ReportPopper("http://asd.asd.asd/ReportOutput/asd-asd-41cc-asd-asd.xls");&lt;/script&gt;"""

soup = BeautifulSoup(html, 'lxml')
script = soup.find_all("script")

pattern = re.compile('ReportPopper(.*);')

for i in script:
    strObj = i.text
    match = pattern.search(strObj)
    if match:
        print(strObj.split("ReportPopper(")[1][:-2])
</code></pre>
<p>O/P:</p>
<pre><code>"http://asd.asd.asd/ReportOutput/asd-asd-41cc-asd-asd.xls"
</code></pre>
</div>

Vote count for the answer: 1

<div class="s-prose js-post-body" itemprop="text">
<p>With bs4 4.7.1 you can use :contains if that string is present in the response</p>
<pre><code>from bs4 import BeautifulSoup as bs
# r = requests.get(url)
# html - r.content
html = '&lt;script type="text/javascript"&gt;ReportPopper("http://asd.asd.asd/ReportOutput/asd-asd-41cc-asd-asd.xls");&lt;script&gt;'
soup = bs(html, 'lxml')
s = soup.select_one('script:contains(ReportPopper)').text
url = s.split('"')[1]
print(url)
</code></pre>
</div>

Vote count for the answer: N/A

